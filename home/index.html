<!DOCTYPE html>
<html lang="en" class="no-js" style="scroll-behavior: smooth;">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
		<title>Home, a library for us.</title>
		<meta name="google-site-verification" content="DQK0fsiUOZwhaUL_Bz30YEZyywlLwzqBWWaW1DbWnjs" />
		<meta name="description" content="A little library currently only for school" />
		<meta name="keywords" content="library, idk what this does rn" />
		<meta name="author" content="Allfoy" />
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine">
		<link href="https://fonts.cdnfonts.com/css/gorgeous-grafix" rel="stylesheet">
		<link rel="shortcut icon" href="../img/favicon.ico">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&family=Noto+Emoji&display=swap" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="../css/main.css" />
		<!-- <link rel="stylesheet" type="text/css" href="../css/book.css" />
		<link rel="stylesheet" type="text/css" href="../css/book2.css" /> -->
		<link rel="stylesheet" type="text/css" href="../css/merged.css" />
		<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
		<script src="https://use.fontawesome.com/1ddffe7916.js"></script>
		<link rel="stylesheet" type="text/css" href="../css/wheelMenuBack.css" /> <!--take this to modify it later -->
		<link rel="stylesheet" type="text/css" href="../css/wheelMenu.css" />
		<style>
			::-webkit-scrollbar-button:single-button:vertical:decrement{
				background: var(--color-4);
				height: 24.275px;
			}
		</style>
		<script src="https://rawgit.com/yandongCoder/circular-menu/master/dist/js/circular-menu.js"></script>
	</head>
	<body>
		<div class="container">
			<div class="navbar">
				<a class="codrops-icon codrops-icon-prev" href="../map/"><span>To the map</span></a>
				<span class="right"><a class="codrops-icon codrops-icon-drop" href="../comparer/"><span>to the comparer</span></a></span>
			</div>
			<div class="tabby" id="tabby" onclick="hidey('tabby')">
				<div id="event-container"></div>
				<div id="time-container"></div>
				<div id="upcoming-event-container"></div>
				<div id="countdown-container"></div>
		</div>
		<div class="ybbat" id="ybbat" onclick="hidey('ybbat')">
			<div id="events-container"></div>
			<div id="eventz-container"></div>
		</div>
		<header>
			<div class="temp" id="rainfront"></div>
			<div class="title"><h1>Libcafe <span>a library for us</span></h1></div>	
			<ul class="radio-switch" >
				<li class="radio-switch__item">
					<input class="radio-switch__input ri5-sr-only" type="radio" name="radio-switch-name" id="radio-1" value="" onclick="radio1()" checked>
					<label class="radio-switch__label" for="radio-1">Books</label>
				</li>
				<li class="radio-switch__item">
					<input class="radio-switch__input ri5-sr-only" type="radio" name="radio-switch-name" id="radio-2" value="" onclick="radio2()">
					<label class="radio-switch__label" for="radio-2">Files</label>
					<div aria-hidden="true" class="radio-switch__marker"></div>
				</li>
			</ul>
			<div class="dayimage" id="dayimage">
				<div class="weekday" id="weekday">errorday</div>
				<img class="icony" id="icony" src="https://fakeimg.pl/200x100/cccccc/000000" width="200px">
				<img class="freeIcony" id="freeIcony" src="https://fakeimg.pl/200x100/cccccc/ff0000">
			</div>
			<button class="classIcon" id="classIcon">☕</button>
			<div><a href="../schedule/">full schedule</a></div>
			<div class="center"><h6>   </h6>  </div> <!--emptyline after switch-->
			<a href="../friend/">friend</a>
		</header>
		<div class="component">
			<div id="bookListContainer"><h1 style="text-align: center;">loading...</h1></div>
			<div id="foodListContainer"><h1 style="text-align: center;">loading...</h1></div>
			<button class="centeredbutton" onclick="switchcookie()">switch user</button>
			<!--<div class="iframer" id="numworksy"><iframe src="https://www.numworks.com/simulator/embed/" width="368px" height="720px"></iframe><script src="https://www.numworks.com/simulator/embed.js"></script></div>
			<button class="centeredbutton" onclick="toggleIframe('numworksy')">Toggle numworks</button> -->
			<br>
			<button class="shiftyr" id="shiftyr">shift-z</button>
			<div>
				<a class="weatherwidget-io" id="weather" href="https://forecast7.com/en/52d525d47/lelystad/" data-label_1="LELYSTAD" data-label_2="WEATHER" data-font="Trebuchet MS" data-icons="Climacons Animated" data-days="3" data-basecolor="rgb(129, 75, 70)" data-textcolor="#f9f1e3" data-highcolor="#f9f1e3" data-lowcolor="#f9f1e3" data-suncolor="#f9f1e3" data-mooncolor="#f9f1e3" data-cloudcolor="#f9f1e3" data-raincolor="#f9f1e3" data-snowcolor="#f9f1e3" >LELYSTAD WEATHER</a>
				<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','weatherwidget-io-js');</script>
			</div>
			
		</div>
		<div id="menu1" class="menu1"></div>
	</body>
	<script src="../js/wheelMenu.js"></script>
	<script src="../js/closelogging.js"></script>
	<script src="../js/cssstuff.js"></script>
	<script src="../js/schoolswitch.js"></script>
	<script src="../js/Grabbyevent.js"></script>
	<script src="../js/main.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
	<script>
        
        document.getElementById('classIcon').addEventListener('click', () => {
            socket.emit('classIconClicked');
        });
        socket.on('confetti', () => {
            confetti();
        });
        
        
		const jsConfetti = new JSConfetti();
		function confetti(){
			const classIcon = document.getElementById('classIcon'); 
			var text = classIcon.textContent;
			/*switch(day) day go make text = string*/
			if(text != '☕'){
				jsConfetti.addConfetti({emojis:[text]})//.then(() => jsConfetti.clearCanvas());
			}else{
				jsConfetti.addConfetti({confettiRadius: 5,confettiNumber: 150*2,})//.then(() => jsConfetti.clearCanvas());
			}
		}
		
	</script>
	<script>
			let firstTime = true;
			// Callback function to execute when mutations/changes are observed
			const callback = function(mutationsList, observer) {
				for(let mutation of mutationsList) {
					if (mutation.type === 'childList' || mutation.type === 'subtree') { //  condition: directchild OR child of nth child
						if (firstTime) {
							firstTime = false;
							break;
						}else {
							setTimeout(confetti, 1000);
							break;// not exactly sure why it's exiting the loop but possibly so it doesn't spam confetti?
						}
					}
				}
			};

			// Create an observer instance linked to the callback function
			const observer = new MutationObserver(callback);

			// Start observing the target node for configured mutations
			observer.observe(document.getElementById('event-container'), { attributes: true, childList: true, subtree: true });
	</script>
	<script>
		function loadContent(id, file) {
			fetch(file)
			.then(response => response.text())
			.then(data => {
				document.getElementById(id).innerHTML = data;
			})
			.catch(error => console.error('Error loading content:', error));
		}
		// Load the bookList and foodList content
		loadContent('bookListContainer', './bookList.html');
		loadContent('foodListContainer', './foodList.html');
	</script>
	<script>intialStart(0);</script>
</html>
