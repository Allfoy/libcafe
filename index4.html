<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Calendar Events</title>
</head>
<body>
    <h1>Today's Events</h1>
    <div id="events-container"></div>

    <script src="https://apis.google.com/js/api.js"></script>
    <script>
const apiKey = 'AIzaSyCaky52HRXhv-E5bIuHt5uvWlGPoA-YmvQ';
const calendarId = 'kvme0ikmjq4825g8ee860tm058clorcg@import.calendar.google.com';
const today = new Date().toISOString().split('T')[0];

fetch(`https://www.googleapis.com/calendar/v3/calendars/${calendarId}/events?timeMin=${today}T00:00:00Z&timeMax=${today}T23:59:59Z&key=${apiKey}`)
    .then(response => response.json())
    .then(data => {
        const events = data.items;
        if (events.length > 0) {
            const firstEvent = {
                summary: events[0].summary,
                startTime: new Date(events[0].start.dateTime || events[0].start.date).toLocaleTimeString(),
            };

            const finalEvent = {
                summary: events[events.length - 1].summary,
                endTime: new Date(events[events.length - 1].end.dateTime || events[events.length - 1].end.date).toLocaleTimeString(),
            };

            displayEvents(firstEvent, finalEvent);
        } else {
            displayEvents("No events for today", "No events for today");
        }
    })
    .catch(error => console.error('Error fetching data:', error));

function displayEvents(firstEvent, finalEvent) {
    const eventsContainer = document.getElementById('events-container');
    eventsContainer.innerHTML = `
        <h2>Today's Events</h2>
        <p><strong>First Event:</strong> ${firstEvent.summary}, <strong>Start Time:</strong> ${firstEvent.startTime}</p>
        <p><strong>Final Event:</strong> ${finalEvent.summary}, <strong>End Time:</strong> ${finalEvent.endTime}</p>
    `;
}
    </script>
</body>
</html>
